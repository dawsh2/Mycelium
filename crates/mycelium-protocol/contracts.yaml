# Mycelium Protocol - Generic Message Contracts (Examples)
#
# This file contains minimal example messages for testing the protocol.
# Real applications should define their own contracts.yaml with domain-specific messages.
#
# See examples/domain_specific/ for real-world usage examples.

# Schema Evolution
schema:
  # Unique identifier for this protocol
  id: 0x4D594345 # "MYCE" in ASCII
  version: 1
  min_compatible: 1

# Tag Ranges
# Reserved ranges prevent conflicts between core framework and application messages
tag_ranges:
  core: 1-999 # Reserved for Mycelium framework
  app: 1000-49999 # Application messages
  experimental: 50000-65535 # Unstable messages

# Example Messages (for testing/demonstration only)
messages:
  # Simple text message - demonstrates basic string handling
  TextMessage:
    tlv_type: 1001
    domain: Examples
    description: "Simple text message"
    schema_version: "v1"
    rust_type: "TextMessage"
    fields:
      sender:
        type: "String"
        description: "Message sender identifier"
        validation:
          - max_length: 32
          - not_empty: true
      content:
        type: "String"
        description: "Message content"
        validation:
          - max_length: 256
          - not_empty: true
      timestamp:
        type: "u64"
        description: "Unix timestamp (seconds)"

  # Counter update - demonstrates numeric types
  CounterUpdate:
    tlv_type: 1002
    domain: Examples
    description: "Counter increment/decrement"
    schema_version: "v1"
    rust_type: "CounterUpdate"
    fields:
      counter_id:
        type: "u64"
        description: "Counter identifier"
      value:
        type: "i32"
        description: "Current counter value"
      delta:
        type: "i32"
        description: "Change since last update"

  # Batch operation - demonstrates arrays
  BatchOperation:
    tlv_type: 1003
    domain: Examples
    description: "Batch of operations"
    schema_version: "v1"
    rust_type: "BatchOperation"
    fields:
      operation_id:
        type: "u64"
        description: "Unique operation ID"
      items:
        type: "Vec<[u8; 20]>"
        description: "List of item identifiers"
        validation:
          - min_length: 1
          - max_length: 10
      total_count:
        type: "u32"
        description: "Total number of items"

domains:
  Examples:
    type_range: "1-999"
    description: "Example messages for testing and documentation"
    latency_slo_p99_ms: 100
    error_rate_slo_pct: 1.0
